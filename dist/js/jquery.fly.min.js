"use strict";!function(r){r.fly=function(t,e){var s={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:r.noop},i=this,l=r(t);i.init=function(t){this.setOptions(t),this.settings.autoPlay&&this.play()},i.setOptions=function(t){this.settings=r.extend(!0,{},s,t);var e=this.settings,i=e.start,n=e.end;l.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=n.width&&null!=n.height&&r.extend(!0,i,{width:l.width(),height:l.height()});var o=Math.min(i.top,n.top)-Math.abs(i.left-n.left)/3;o<e.vertex_Rtop&&(o=Math.min(e.vertex_Rtop,Math.min(i.top,n.top)));var h=Math.sqrt(Math.pow(i.top-n.top,2)+Math.pow(i.left-n.left,2)),t=Math.ceil(Math.min(Math.max(Math.log(h)/.05-75,30),100)/e.speed),h=i.top==o?0:-Math.sqrt((n.top-o)/(i.top-o)),h=(h*i.left-n.left)/(h-1),n=n.left==h?0:(n.top-o)/Math.pow(n.left-h,2);r.extend(!0,e,{count:-1,steps:t,vertex_left:h,vertex_top:o,curvature:n})},i.play=function(){this.move()},i.move=function(){var t,e,i=this.settings,n=i.start,o=i.count,h=i.steps,s=i.end,a=n.left+(s.left-n.left)*o/h,p=0==i.curvature?n.top+(s.top-n.top)*o/h:i.curvature*Math.pow(a-i.vertex_left,2)+i.vertex_top;null!=s.width&&null!=s.height&&(e=h/2,t=s.width-(s.width-n.width)*Math.cos(o<e?0:(o-e)/(h-e)*Math.PI/2),e=s.height-(s.height-n.height)*Math.cos(o<e?0:(o-e)/(h-e)*Math.PI/2),l.css({width:t+"px",height:e+"px","font-size":Math.min(t,e)+"px"})),l.css({left:a+"px",top:p+"px"}),i.count++;p=window.requestAnimationFrame(r.proxy(this.move,this));o==h&&(window.cancelAnimationFrame(p),i.onEnd.apply(this))},i.destroy=function(){l.remove()},i.init(e)},r.fn.fly=function(t){return this.each(function(){null==r(this).data("fly")&&r(this).data("fly",new r.fly(this,t))})}}(jQuery);