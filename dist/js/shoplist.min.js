"use strict";function Page(e){var a=e.pageSize,t=e.pageTotal,n=e.curPage,i=e.id,s=e.getPage,l=e.showPageTotalFlag,c=e.showSkipInputFlag,t=t||0,o=(o=e.pageAmount)||0,e=(e=e.dataTotal)||0;this.pageSize=(a=(a=a||0)||0)||5,this.pageTotal=t,this.pageAmount=o,this.dataTotal=e,this.curPage=n||1,this.ul=document.createElement("ul"),this.id=i,this.getPage=s,this.showPageTotalFlag=l||!1,this.showSkipInputFlag=c||!1,0<e&&0<t?this.init():console.error("总页数或者总数据参数不对")}$.ajax({url:"../../dist/json/shoplist.json",type:"get",dataType:"json",success:function(l){$.each(l.leftLtValue,function(e,a){var t=l.leftLtValue[e].img,n=l.leftLtValue[e].value,i=l.leftLtValue[e].id,s=l.leftLtValue[e].Qmoney,e=l.leftLtValue[e].WXmoney;$('\n             <div class="hor">\n                <div class="comico">'.concat(i,'</div>\n                    <div class="djimg">\n                        <img src="').concat(t,'">\n                    </div>\n                    <div class="djinfo">\n                        <p class="djname">').concat(n,'</p>\n                        <p class="djprice">Q币价：').concat(s,' Q币</p>\n                        <p class="djcpri" style="font-size:12px;">微信价：\n                            <strong>￥').concat(e," </strong>\n                        </p>\n                    </div> \n                </div>\n            ")).appendTo("#hotlv")})}}),$.ajax({url:"../../dist/json/shoplist.json",type:"get",dataType:"json",success:function(l){$.each(l.listlvValue,function(e,a){var t=l.listlvValue[e].img,n=l.listlvValue[e].value,i=l.listlvValue[e].Qmoney,s=l.listlvValue[e].WXmoney,e=l.listlvValue[e].href;$('\n                <dl>\n                    <dt>\n                        <a href="#" target="_blank">\n                            <img src="'.concat(t,'" alt="太空律动 “闪耀灯球” 拉克丝">\n                        </a>\n                    </dt>\n                    <dd>\n                        <a href="#" class="djname" target="_blank">\n                            <strong>').concat(n,'</strong></a>\n                        <div class="bxlist-t1">\n                            Q币价：<span class="t2">&nbsp;&nbsp;&nbsp;</span>\n                            <span class="t2 fwb">').concat(i,'</span><span class="t2 fwb"> Q币</span>\n                        </div>\n                        <div class="bxlist-t1">\n                            微信价：<span class="t2">&nbsp;&nbsp;&nbsp;￥').concat(s,'</span>\n                        </div>\n                        <div class="bxlist-t2">\n                            <a href="').concat(e,'" class="buy-now" title="立即购买">\n                                立即购买</a>\n                        </div>\n                        <span class=""></span>\n                    </dd>\n                </dl>\n            ')).appendTo(".listshops ")})}}),Page.prototype={init:function(){var e=document.getElementById(this.id);e.innerHTML="",this.ul.innerHTML="",e.appendChild(this.ul);var t=this;t.firstPage(),t.lastPage(),t.getPages().forEach(function(e){var a=document.createElement("li");e==t.curPage?a.className="active":a.onclick=function(){t.curPage=parseInt(this.innerHTML),t.init(),t.getPage(t.curPage)},a.innerHTML=e,t.ul.appendChild(a)}),t.nextPage(),t.finalPage(),t.showSkipInputFlag&&t.showSkipInput(),t.showPageTotalFlag&&t.showPageTotal()},firstPage:function(){var a=this,e=document.createElement("li");e.innerHTML="首页",this.ul.appendChild(e),e.onclick=function(){var e=parseInt(1);a.curPage=e,a.getPage(a.curPage),a.init()}},lastPage:function(){var e=this,a=document.createElement("li");a.innerHTML="<",1<parseInt(e.curPage)?a.onclick=function(){e.curPage=parseInt(e.curPage)-1,e.init(),e.getPage(e.curPage)}:a.className="disabled",this.ul.appendChild(a)},getPages:function(){var e=[];if(this.curPage<=this.pageTotal)if(this.curPage<this.pageSize)for(var a=Math.min(this.pageSize,this.pageTotal);a;)e.unshift(a--);else{var t=this.curPage-Math.floor(this.pageSize/2),a=this.pageSize;for(t>this.pageTotal-this.pageSize&&(t=this.pageTotal-this.pageSize+1);a--;)e.push(t++)}else console.error("当前页数不能大于总页数");return this.pageSize||console.error("显示页数不能为空或者0"),e},nextPage:function(){var e=this,a=document.createElement("li");a.innerHTML=">",parseInt(e.curPage)<parseInt(e.pageTotal)?a.onclick=function(){e.curPage=parseInt(e.curPage)+1,e.init(),e.getPage(e.curPage)}:a.className="disabled",this.ul.appendChild(a)},finalPage:function(){var a=this,e=document.createElement("li");e.innerHTML="尾页",this.ul.appendChild(e),e.onclick=function(){var e=a.pageTotal,e=parseInt(e);a.curPage=e,a.getPage(a.curPage),a.init()}},showSkipInput:function(){var a=this,e=document.createElement("li");e.className="totalPage";var t=document.createElement("span");t.innerHTML="跳转到",e.appendChild(t);t=document.createElement("input");t.setAttribute("type","number"),t.onkeydown=function(e){e=e||event;"13"==e.keyCode&&("number"==typeof(e=parseInt(e.target.value))&&e<=a.pageTotal&&0<e?(a.curPage=e,a.getPage(a.curPage)):alert("请输入正确的页数 !"),a.init())},e.appendChild(t);t=document.createElement("span");t.innerHTML="页",e.appendChild(t),this.ul.appendChild(e)},showPageTotal:function(){document.createElement("li")}},window.onload=function(){new Page({id:"pagination",pageTotal:50,pageAmount:10,dataTotal:500,curPage:1,pageSize:5,showPageTotalFlag:!0,showSkipInputFlag:!0,getPage:function(e){console.log(e)}})};